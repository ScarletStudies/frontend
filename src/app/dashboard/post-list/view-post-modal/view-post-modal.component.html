<div class="modal-header">
    <h5 class="modal-title">View Post</h5>
    <button type="button" class="close" aria-label="Close" (click)="activeModal.dismiss()">
	<span aria-hidden="true">&times;</span>
    </button>
</div>
<div class="modal-body view-post-modal-body p-1"
     *ngIf="post$ | async; let post">
    <app-post-list-item [post]="post"
			[options]="itemOptions"
			(cheer)="cheer()"></app-post-list-item>

    <form class="media-body p-2"
	  [formGroup]="commentForm"
	  (ngSubmit)="comment()">

	<div class="input-group">

	    <quill-editor formControlName="content"
			  id="comment-content"
			  placeholder="Comment content..."
			  class="form-control"
			  style="border: 0;"
			  [style]="{height: '100px'}"
			  [modules]="quillModules"></quill-editor>

	    <div class="input-group-append">
		<button id="comment-submit"
			type="submit"
			class="btn btn-outline-secondary"
			[disabled]="commentForm.invalid">
		    Submit
		</button>
	    </div>
	</div>
    </form>

    <ul class="list-unstyled mb-2">
	<li *ngFor="let comment of post.comments; last as isLast"
	    class="media post-comment border-bottom border-gray py-2"
	    [class.border-bottom-0]="isLast">
	    <div class="media-body ml-3">
		<p class="comment-content mb-1">
		    {{ comment.content }}
		</p>
		<span class="small">
		    <span class="comment-timestamp">
			{{ comment.timestamp | date }}
		    </span>
		    &bull;
		    <span class="comment-author">
			{{ comment.author.email }}
		    </span>
		</span>
	    </div>
	</li>
    </ul>
</div>

